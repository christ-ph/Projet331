{"ast":null,"code":"import _toConsumableArray from \"/home/christ/T\\xE9l\\xE9chargements/projet 1.2.1/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"mission-applications-view\"\n};\nvar _hoisted_2 = {\n  \"class\": \"content-section\"\n};\nvar _hoisted_3 = {\n  \"class\": \"section-header\"\n};\nvar _hoisted_4 = {\n  \"class\": \"offers-list\"\n};\nvar _hoisted_5 = {\n  \"class\": \"offer-header\"\n};\nvar _hoisted_6 = {\n  \"class\": \"budget\"\n};\nvar _hoisted_7 = {\n  \"class\": \"offer-description\"\n};\nvar _hoisted_8 = {\n  \"class\": \"offer-meta\"\n};\nvar _hoisted_9 = {\n  \"class\": \"deadline\"\n};\nvar _hoisted_10 = {\n  \"class\": \"skills\"\n};\nvar _hoisted_11 = {\n  \"class\": \"offer-actions\"\n};\nvar _hoisted_12 = [\"onClick\"];\nvar _hoisted_13 = [\"onClick\"];\nvar _hoisted_14 = {\n  key: 0,\n  \"class\": \"applications-container\"\n};\nvar _hoisted_15 = {\n  key: 0,\n  \"class\": \"empty\"\n};\nvar _hoisted_16 = {\n  \"class\": \"applications-list\"\n};\nvar _hoisted_17 = {\n  \"class\": \"application-header\"\n};\nvar _hoisted_18 = {\n  \"class\": \"email\"\n};\nvar _hoisted_19 = {\n  \"class\": \"application-body\"\n};\nvar _hoisted_20 = {\n  \"class\": \"status\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[1] || (_cache[1] = _createElementVNode(\"h3\", null, \"üéØ Offres r√©centes\", -1 /* CACHED */)), _createVNode(_component_router_link, {\n    to: \"/missions\",\n    \"class\": \"see-all\"\n  }, {\n    \"default\": _withCtx(function () {\n      return _toConsumableArray(_cache[0] || (_cache[0] = [_createTextVNode(\"Tout voir\", -1 /* CACHED */)]));\n    }),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.latestOffers, function (offer) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: offer.id,\n      \"class\": \"offer-card\"\n    }, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"h4\", null, _toDisplayString(offer.title), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_6, _toDisplayString(offer.budget) + \"‚Ç¨\", 1 /* TEXT */)]), _createElementVNode(\"p\", _hoisted_7, _toDisplayString(offer.description), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"span\", _hoisted_9, \"‚è±Ô∏è \" + _toDisplayString(offer.deadline), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_10, _toDisplayString(offer.skills), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"button\", {\n      onClick: function onClick($event) {\n        return $options.viewMission(offer.id);\n      },\n      \"class\": \"btn btn-secondary btn-small\"\n    }, \"Voir d√©tails\", 8 /* PROPS */, _hoisted_12), _createElementVNode(\"button\", {\n      onClick: function onClick($event) {\n        return $options.applyToMission(offer.id);\n      },\n      \"class\": \"btn btn-primary btn-small\"\n    }, \"Discuter\", 8 /* PROPS */, _hoisted_13)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), $data.showDetails ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [_cache[8] || (_cache[8] = _createElementVNode(\"h2\", {\n    \"class\": \"title\"\n  }, \"üì® Candidatures re√ßues\", -1 /* CACHED */)), _createCommentVNode(\" Aucune candidature \"), _ctx.applications.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, \" Aucune candidature pour le moment. \")) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Liste des candidatures \"), _createElementVNode(\"div\", _hoisted_16, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.applications, function (app) {\n    var _app$freelancer_ratin;\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: app.id,\n      \"class\": \"application-card\"\n    }, [_createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"h3\", null, _toDisplayString(app.freelance_name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_18, _toDisplayString(app.freelance_email), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"p\", null, [_cache[2] || (_cache[2] = _createElementVNode(\"strong\", null, \"üí¨ Proposition :\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString(app.proposal), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[3] || (_cache[3] = _createElementVNode(\"strong\", null, \"üí∞ Budget propos√© :\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString(app.proposed_budget) + \" ‚Ç¨ \", 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[4] || (_cache[4] = _createElementVNode(\"strong\", null, \"üìÖ Date :\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString(_ctx.formatDate(app.created_at)), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[5] || (_cache[5] = _createElementVNode(\"strong\", null, \"üìå Statut :\", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_20, _toDisplayString(app.status), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[6] || (_cache[6] = _createElementVNode(\"strong\", null, \"‚≠ê Note freelance :\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString((_app$freelancer_ratin = app.freelancer_rating) !== null && _app$freelancer_ratin !== void 0 ? _app$freelancer_ratin : \"‚Äî\"), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[7] || (_cache[7] = _createElementVNode(\"strong\", null, \"üìù Avis :\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString(app.freelancer_reviews_count) + \" avis \", 1 /* TEXT */)])])]);\n  }), 128 /* KEYED_FRAGMENT */))])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_router_link","to","_toConsumableArray","_cache","_hoisted_4","_createElementBlock","_Fragment","_renderList","$data","latestOffers","offer","key","id","_hoisted_5","_toDisplayString","title","_hoisted_6","budget","_hoisted_7","description","_hoisted_8","_hoisted_9","deadline","_hoisted_10","skills","_hoisted_11","onClick","$event","$options","viewMission","_hoisted_12","applyToMission","_hoisted_13","showDetails","_hoisted_14","_createCommentVNode","_ctx","applications","length","_hoisted_15","_hoisted_16","app","_app$freelancer_ratin","_hoisted_17","freelance_name","_hoisted_18","freelance_email","_hoisted_19","proposal","proposed_budget","formatDate","created_at","_hoisted_20","status","freelancer_rating","freelancer_reviews_count"],"sources":["/home/christ/T√©l√©chargements/projet 1.2.1/src/views/MissionApplicationsView.vue"],"sourcesContent":["<template>\n\n    <div class=\"mission-applications-view\">\n        <div class=\"content-section\">\n          <div class=\"section-header\">\n            <h3>üéØ Offres r√©centes</h3>\n            <router-link to=\"/missions\" class=\"see-all\">Tout voir</router-link>\n          </div>\n          <div class=\"offers-list\">\n            <div v-for=\"offer in latestOffers\" :key=\"offer.id\" class=\"offer-card\">\n              <div class=\"offer-header\">\n                <h4>{{ offer.title }}</h4>\n                <span class=\"budget\">{{ offer.budget }}‚Ç¨</span>\n              </div>\n              <p class=\"offer-description\">{{ offer.description }}</p>\n              <div class=\"offer-meta\">\n                <span class=\"deadline\">‚è±Ô∏è {{ offer.deadline }}</span>\n                <span class=\"skills\">{{ offer.skills }}</span>\n              </div>\n              <div class=\"offer-actions\">\n                <button @click=\"viewMission(offer.id)\" class=\"btn btn-secondary btn-small\">Voir d√©tails</button>\n                <button @click=\"applyToMission(offer.id)\" class=\"btn btn-primary btn-small\">Discuter</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n        <div class=\"applications-container\" v-if=\"showDetails\">\n\n    <h2 class=\"title\">üì® Candidatures re√ßues</h2>\n\n    <!-- Aucune candidature -->\n    <div v-if=\"applications.length === 0\" class=\"empty\">\n      Aucune candidature pour le moment.\n    </div>\n\n    <!-- Liste des candidatures -->\n    <div v-else class=\"applications-list\">\n\n      <div \n        v-for=\"app in applications\" \n        :key=\"app.id\" \n        class=\"application-card\"\n      >\n        \n        <div class=\"application-header\">\n          <h3>{{ app.freelance_name }}</h3>\n          <p class=\"email\">{{ app.freelance_email }}</p>\n        </div>\n\n        <div class=\"application-body\">\n\n          <p><strong>üí¨ Proposition :</strong> {{ app.proposal }}</p>\n\n          <p><strong>üí∞ Budget propos√© :</strong> \n            {{ app.proposed_budget }} ‚Ç¨\n          </p>\n\n          <p><strong>üìÖ Date :</strong> \n            {{ formatDate(app.created_at) }}\n          </p>\n\n          <p><strong>üìå Statut :</strong>\n            <span class=\"status\">{{ app.status }}</span>\n          </p>\n\n          <p><strong>‚≠ê Note freelance :</strong>\n            {{ app.freelancer_rating ?? \"‚Äî\" }}\n          </p>\n\n          <p><strong>üìù Avis :</strong>\n            {{ app.freelancer_reviews_count }} avis\n          </p>\n\n        </div>\n\n      </div>\n\n    </div>\n\n  </div>\n      \n\n\n</template>\n\n<script>\nimport { getMissions, applyToMission } from '@/services/api'; // Assure-toi que le chemin est correct\n\nexport default {\n  name: 'MissionsApplicationsView',\n  props: ['currentUser'],\n  data() {\n    return {\n        showDetails: fla,\n      latestOffers: [],\n    };\n  },\n  methods: {\n    async fetchLatestOffers() {\n      try {\n        const response = await getMissions();\n        this.latestOffers = response.data;\n      } catch (error) {\n        console.error('Error fetching latest offers:', error);\n      }\n    },\n    async applyToMission(missionId) {\n      try {\n        await applyToMission(missionId);\n       alert('Application sent successfully!');\n      } catch (error) {\n        console.error('Error applying to mission:', error);\n        alert('Failed to apply to mission.');\n      }\n    },\n    viewMission(missionId) {\n      this.$router.push({ name: 'MissionDetailsView', params: { id: missionId } });\n    },\n  },\n  mounted() {\n    this.fetchLatestOffers();\n  },\n};\n</script>\n\n<style scoped>  \n.mission-applications-view {\n  padding: 20px;\n}       \n.content-section {\n  margin-bottom: 40px;\n}\n.section-header {\n  display: flex;\n  justify-content: space-between;       \n}\n.offers-list {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n}\n.offer-card {\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  padding: 15px;\n  width: calc(33% - 20px);\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n}\n.offer-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.budget {\n  font-weight: bold;\n  color: #28a745;\n}\n.offer-description {\n  margin-bottom: 10px;\n}\n.offer-meta {\n  font-size: 0.9em;\n  color: #666;\n  margin-bottom: 15px;\n}\n.offer-actions {\n  display: flex;                \n  justify-content: space-between;\n}\n.btn-small {\n  padding: 5px 10px;\n  font-size: 0.9em;\n}\n</style>"],"mappings":";;;;;EAES,SAAM;AAA2B;;EAC7B,SAAM;AAAiB;;EACrB,SAAM;AAAgB;;EAItB,SAAM;AAAa;;EAEf,SAAM;AAAc;;EAEjB,SAAM;AAAQ;;EAEnB,SAAM;AAAmB;;EACvB,SAAM;AAAY;;EACf,SAAM;AAAU;;EAChB,SAAM;AAAQ;;EAEjB,SAAM;AAAe;;;;;EAQ3B,SAAM;;;;EAKuB,SAAM;;;EAKhC,SAAM;AAAmB;;EAQ5B,SAAM;AAAoB;;EAE1B,SAAM;AAAO;;EAGb,SAAM;AAAkB;;EAanB,SAAM;AAAQ;;;6DA7D5BA,mBAAA,CAwBQ,OAxBRC,UAwBQ,GAvBJD,mBAAA,CAsBM,OAtBNE,UAsBM,GArBJF,mBAAA,CAGM,OAHNG,UAGM,G,0BAFJH,mBAAA,CAA2B,YAAvB,oBAAkB,qBACtBI,YAAA,CAAmEC,sBAAA;IAAtDC,EAAE,EAAC,WAAW;IAAC,SAAM;;wBAAU;MAAA,OAAAC,kBAAA,CAASC,MAAA,QAAAA,MAAA,O,iBAAT,WAAS,mB;;;QAEvDR,mBAAA,CAgBM,OAhBNS,UAgBM,I,kBAfJC,mBAAA,CAcMC,SAAA,QAAAC,WAAA,CAdeC,KAAA,CAAAC,YAAY,YAArBC,KAAK;yBAAjBL,mBAAA,CAcM;MAd8BM,GAAG,EAAED,KAAK,CAACE,EAAE;MAAE,SAAM;QACvDjB,mBAAA,CAGM,OAHNkB,UAGM,GAFJlB,mBAAA,CAA0B,YAAAmB,gBAAA,CAAnBJ,KAAK,CAACK,KAAK,kBAClBpB,mBAAA,CAA+C,QAA/CqB,UAA+C,EAAAF,gBAAA,CAAvBJ,KAAK,CAACO,MAAM,IAAG,GAAC,gB,GAE1CtB,mBAAA,CAAwD,KAAxDuB,UAAwD,EAAAJ,gBAAA,CAAxBJ,KAAK,CAACS,WAAW,kBACjDxB,mBAAA,CAGM,OAHNyB,UAGM,GAFJzB,mBAAA,CAAqD,QAArD0B,UAAqD,EAA9B,KAAG,GAAAP,gBAAA,CAAGJ,KAAK,CAACY,QAAQ,kBAC3C3B,mBAAA,CAA8C,QAA9C4B,WAA8C,EAAAT,gBAAA,CAAtBJ,KAAK,CAACc,MAAM,iB,GAEtC7B,mBAAA,CAGM,OAHN8B,WAGM,GAFJ9B,mBAAA,CAAgG;MAAvF+B,OAAK,WAALA,OAAKA,CAAAC,MAAA;QAAA,OAAEC,QAAA,CAAAC,WAAW,CAACnB,KAAK,CAACE,EAAE;MAAA;MAAG,SAAM;OAA8B,cAAY,iBAAAkB,WAAA,GACvFnC,mBAAA,CAA6F;MAApF+B,OAAK,WAALA,OAAKA,CAAAC,MAAA;QAAA,OAAEC,QAAA,CAAAG,cAAc,CAACrB,KAAK,CAACE,EAAE;MAAA;MAAG,SAAM;OAA4B,UAAQ,iBAAAoB,WAAA,E;wCAMlDxB,KAAA,CAAAyB,WAAW,I,cAArD5B,mBAAA,CAqDA,OArDA6B,WAqDA,G,0BAnDJvC,mBAAA,CAA6C;IAAzC,SAAM;EAAO,GAAC,wBAAsB,qBAExCwC,mBAAA,wBAA2B,EAChBC,IAAA,CAAAC,YAAY,CAACC,MAAM,U,cAA9BjC,mBAAA,CAEM,OAFNkC,WAEM,EAF8C,sCAEpD,M,cAGAlC,mBAAA,CAyCMC,SAAA;IAAAK,GAAA;EAAA,IA1CNwB,mBAAA,4BAA+B,EAC/BxC,mBAAA,CAyCM,OAzCN6C,WAyCM,I,kBAvCJnC,mBAAA,CAqCMC,SAAA,QAAAC,WAAA,CApCU6B,IAAA,CAAAC,YAAY,YAAnBI,GAAG;IAAA,IAAAC,qBAAA;yBADZrC,mBAAA,CAqCM;MAnCHM,GAAG,EAAE8B,GAAG,CAAC7B,EAAE;MACZ,SAAM;QAGNjB,mBAAA,CAGM,OAHNgD,WAGM,GAFJhD,mBAAA,CAAiC,YAAAmB,gBAAA,CAA1B2B,GAAG,CAACG,cAAc,kBACzBjD,mBAAA,CAA8C,KAA9CkD,WAA8C,EAAA/B,gBAAA,CAA1B2B,GAAG,CAACK,eAAe,iB,GAGzCnD,mBAAA,CAwBM,OAxBNoD,WAwBM,GAtBJpD,mBAAA,CAA2D,Y,0BAAxDA,mBAAA,CAAiC,gBAAzB,kBAAgB,qB,iBAAS,GAAC,GAAAmB,gBAAA,CAAG2B,GAAG,CAACO,QAAQ,iB,GAEpDrD,mBAAA,CAEI,Y,0BAFDA,mBAAA,CAAoC,gBAA5B,qBAAmB,qB,iBAAS,GACrC,GAAAmB,gBAAA,CAAG2B,GAAG,CAACQ,eAAe,IAAG,KAC3B,gB,GAEAtD,mBAAA,CAEI,Y,0BAFDA,mBAAA,CAA0B,gBAAlB,WAAS,qB,iBAAS,GAC3B,GAAAmB,gBAAA,CAAGsB,IAAA,CAAAc,UAAU,CAACT,GAAG,CAACU,UAAU,kB,GAG9BxD,mBAAA,CAEI,Y,0BAFDA,mBAAA,CAA4B,gBAApB,aAAW,qBACpBA,mBAAA,CAA4C,QAA5CyD,WAA4C,EAAAtC,gBAAA,CAApB2B,GAAG,CAACY,MAAM,iB,GAGpC1D,mBAAA,CAEI,Y,0BAFDA,mBAAA,CAAmC,gBAA3B,oBAAkB,qB,iBAAS,GACpC,GAAAmB,gBAAA,EAAA4B,qBAAA,GAAGD,GAAG,CAACa,iBAAiB,cAAAZ,qBAAA,cAAAA,qBAAA,uB,GAG1B/C,mBAAA,CAEI,Y,0BAFDA,mBAAA,CAA0B,gBAAlB,WAAS,qB,iBAAS,GAC3B,GAAAmB,gBAAA,CAAG2B,GAAG,CAACc,wBAAwB,IAAG,QACpC,gB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}