{"ast":null,"code":"import \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport axios from 'axios';\nvar API_BASE_URL = 'http://localhost:5000';\nvar api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Intercepteur pour ajouter le token d'authentification\napi.interceptors.request.use(function (config) {\n  var user = JSON.parse(localStorage.getItem('user'));\n  if (user && user.token) {\n    config.headers.Authorization = \"Bearer \".concat(user.token);\n  }\n  return config;\n});\n\n// Intercepteur pour gérer les erreurs\napi.interceptors.response.use(function (response) {\n  return response;\n}, function (error) {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    localStorage.removeItem('user');\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});\n\n// Auth\nexport var login = function login(credentials) {\n  return api.post('/api/login');\n};\nexport var register = function register(data) {\n  return api.post('/api/register', data);\n};\n\n// Users\nexport var setUserProfile = function setUserProfile(userId, data) {\n  return api.post(\"/api/users/\".concat(userId, \"/profile\"), data);\n};\nexport var getUsers = function getUsers() {\n  return api.get('/api/users');\n};\nexport var updateUser = function updateUser(id, data) {\n  return api.put(\"/api/users/\".concat(id), data);\n};\nexport var deleteUser = function deleteUser(id) {\n  return api[\"delete\"](\"/api/users/\".concat(id));\n};\n\n// Freelance Profiles\nexport var getProfiles = function getProfiles() {\n  return api.get('/profiles');\n};\nexport var createProfile = function createProfile(data) {\n  return api.post('/profiles', data);\n};\nexport var updateProfile = function updateProfile(id, data) {\n  return api.put(\"/profiles/\".concat(id), data);\n};\nexport var deleteProfile = function deleteProfile(id) {\n  return api[\"delete\"](\"/profiles/\".concat(id));\n};\nexport var addPortfolioItem = function addPortfolioItem(profileId, data) {\n  return api.post(\"/profiles/\".concat(profileId, \"/portfolio\"), data);\n};\nexport var removePortfolioItem = function removePortfolioItem(itemId) {\n  return api[\"delete\"](\"/portfolio/\".concat(itemId));\n};\n\n// Missions (à adapter selon vos routes backend)\nexport var getMissions = function getMissions() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return api.get('/missions', {\n    params: params\n  });\n};\nexport var createMission = function createMission(data) {\n  return api.post('/missions', data);\n};\nexport var applyToMission = function applyToMission(missionId, data) {\n  return api.post(\"/missions/\".concat(missionId, \"/apply\"), data);\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","headers","interceptors","request","use","config","user","JSON","parse","localStorage","getItem","token","Authorization","concat","response","error","_error$response","status","removeItem","window","location","href","Promise","reject","login","credentials","post","register","data","setUserProfile","userId","getUsers","get","updateUser","id","put","deleteUser","getProfiles","createProfile","updateProfile","deleteProfile","addPortfolioItem","profileId","removePortfolioItem","itemId","getMissions","params","arguments","length","undefined","createMission","applyToMission","missionId"],"sources":["/home/christ/Téléchargements/projet331/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = 'http://localhost:5000';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Intercepteur pour ajouter le token d'authentification\napi.interceptors.request.use((config) => {\n  const user = JSON.parse(localStorage.getItem('user'));\n  if (user && user.token) {\n    config.headers.Authorization = `Bearer ${user.token}`;\n  }\n  return config;\n});\n\n// Intercepteur pour gérer les erreurs\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      localStorage.removeItem('user');\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\n// Auth\nexport const login = (credentials) => api.post('/api/login', );\nexport const register = (data) => api.post('/api/register', data);\n\n// Users\nexport const setUserProfile = (userId, data) => api.post(`/api/users/${userId}/profile`, data);\nexport const getUsers = () => api.get('/api/users');\nexport const updateUser = (id, data) => api.put(`/api/users/${id}`, data);\nexport const deleteUser = (id) => api.delete(`/api/users/${id}`);\n\n// Freelance Profiles\nexport const getProfiles = () => api.get('/profiles');\nexport const createProfile = (data) => api.post('/profiles', data);\nexport const updateProfile = (id, data) => api.put(`/profiles/${id}`, data);\nexport const deleteProfile = (id) => api.delete(`/profiles/${id}`);\nexport const addPortfolioItem = (profileId, data) => api.post(`/profiles/${profileId}/portfolio`, data);\nexport const removePortfolioItem = (itemId) => api.delete(`/portfolio/${itemId}`);\n\n// Missions (à adapter selon vos routes backend)\nexport const getMissions = (params = {}) => api.get('/missions', { params });\nexport const createMission = (data) => api.post('/missions', data);\nexport const applyToMission = (missionId, data) => api.post(`/missions/${missionId}/apply`, data);\n\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}