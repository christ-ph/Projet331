{"ast":null,"code":"import _regenerator from \"/home/christ/T\\xE9l\\xE9chargements/projet 1.2.1/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _asyncToGenerator from \"/home/christ/T\\xE9l\\xE9chargements/projet 1.2.1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { getMissions, applyToMission as _applyToMission } from '@/services/api'; // Assure-toi que le chemin est correct\n\nexport default {\n  name: 'MissionsApplicationsView',\n  props: ['currentUser'],\n  data: function data() {\n    return {\n      latestOffers: []\n    };\n  },\n  methods: {\n    fetchLatestOffers: function fetchLatestOffers() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n        var response, _t;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.p = _context.n) {\n            case 0:\n              _context.p = 0;\n              _context.n = 1;\n              return getMissions();\n            case 1:\n              response = _context.v;\n              _this.latestOffers = response.data;\n              _context.n = 3;\n              break;\n            case 2:\n              _context.p = 2;\n              _t = _context.v;\n              console.error('Error fetching latest offers:', _t);\n            case 3:\n              return _context.a(2);\n          }\n        }, _callee, null, [[0, 2]]);\n      }))();\n    },\n    applyToMission: function applyToMission(missionId) {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2() {\n        var _t2;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.p = _context2.n) {\n            case 0:\n              _context2.p = 0;\n              _context2.n = 1;\n              return _applyToMission(missionId);\n            case 1:\n              alert('Application sent successfully!');\n              _context2.n = 3;\n              break;\n            case 2:\n              _context2.p = 2;\n              _t2 = _context2.v;\n              console.error('Error applying to mission:', _t2);\n              _this2.$toast.error('Failed to apply to mission.');\n            case 3:\n              return _context2.a(2);\n          }\n        }, _callee2, null, [[0, 2]]);\n      }))();\n    }\n  },\n  mounted: function mounted() {\n    this.fetchLatestOffers();\n  }\n};","map":{"version":3,"names":["getMissions","applyToMission","name","props","data","latestOffers","methods","fetchLatestOffers","_this","_asyncToGenerator","_regenerator","m","_callee","response","_t","w","_context","p","n","v","console","error","a","missionId","_this2","_callee2","_t2","_context2","alert","$toast","mounted"],"sources":["/home/christ/T√©l√©chargements/projet 1.2.1/src/views/MissionApplicationsView.vue"],"sourcesContent":["<template>\n\n    <div class=\"mission-applications-view\">\n        <div class=\"content-section\">\n          <div class=\"section-header\">\n            <h3>üéØ Offres r√©centes</h3>\n            <router-link to=\"/missions\" class=\"see-all\">Tout voir</router-link>\n          </div>\n          <div class=\"offers-list\">\n            <div v-for=\"offer in latestOffers\" :key=\"offer.id\" class=\"offer-card\">\n              <div class=\"offer-header\">\n                <h4>{{ offer.title }}</h4>\n                <span class=\"budget\">{{ offer.budget }}‚Ç¨</span>\n              </div>\n              <p class=\"offer-description\">{{ offer.description }}</p>\n              <div class=\"offer-meta\">\n                <span class=\"deadline\">‚è±Ô∏è {{ offer.deadline }}</span>\n                <span class=\"skills\">{{ offer.skills }}</span>\n              </div>\n              <div class=\"offer-actions\">\n                <button @click=\"applyToMission(offer.id)\" class=\"btn btn-primary btn-small\">Discuter</button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n      </div>\n\n\n</template>\n\n<script>\nimport { getMissions, applyToMission } from '@/services/api'; // Assure-toi que le chemin est correct\n\nexport default {\n  name: 'MissionsApplicationsView',\n  props: ['currentUser'],\n  data() {\n    return {\n      latestOffers: [],\n    };\n  },\n  methods: {\n    async fetchLatestOffers() {\n      try {\n        const response = await getMissions();\n        this.latestOffers = response.data;\n      } catch (error) {\n        console.error('Error fetching latest offers:', error);\n      }\n    },\n    async applyToMission(missionId) {\n      try {\n        await applyToMission(missionId);\n        alert('Application sent successfully!');\n      } catch (error) {\n        console.error('Error applying to mission:', error);\n        this.$toast.error('Failed to apply to mission.');\n      }\n    },\n  },\n  mounted() {\n    this.fetchLatestOffers();\n  },\n};\n</script>\n\n<style scoped>  \n.mission-applications-view {\n  padding: 20px;\n}       \n.content-section {\n  margin-bottom: 40px;\n}\n.section-header {\n  display: flex;\n  justify-content: space-between;       \n}\n.offers-list {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n}\n.offer-card {\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  padding: 15px;\n  width: calc(33% - 20px);\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n}\n.offer-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.budget {\n  font-weight: bold;\n  color: #28a745;\n}\n.offer-description {\n  margin-bottom: 10px;\n}\n.offer-meta {\n  font-size: 0.9em;\n  color: #666;\n  margin-bottom: 15px;\n}\n.offer-actions {\n  display: flex;                \n  justify-content: space-between;\n}\n.btn-small {\n  padding: 5px 10px;\n  font-size: 0.9em;\n}\n</style>"],"mappings":";;AAgCA,SAASA,WAAW,EAAEC,cAAa,IAAbA,eAAa,QAAS,gBAAgB,EAAE;;AAE9D,eAAe;EACbC,IAAI,EAAE,0BAA0B;EAChCC,KAAK,EAAE,CAAC,aAAa,CAAC;EACtBC,IAAI,WAAJA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACDC,iBAAiB,WAAjBA,iBAAiBA,CAAA,EAAG;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,cAAAC,YAAA,GAAAC,CAAA,UAAAC,QAAA;QAAA,IAAAC,QAAA,EAAAC,EAAA;QAAA,OAAAJ,YAAA,GAAAK,CAAA,WAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,CAAA,GAAAD,QAAA,CAAAE,CAAA;YAAA;cAAAF,QAAA,CAAAC,CAAA;cAAAD,QAAA,CAAAE,CAAA;cAAA,OAEClB,WAAW,CAAC,CAAC;YAAA;cAA9Ba,QAAO,GAAAG,QAAA,CAAAG,CAAA;cACbX,KAAI,CAACH,YAAW,GAAIQ,QAAQ,CAACT,IAAI;cAAAY,QAAA,CAAAE,CAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,CAAA;cAAAH,EAAA,GAAAE,QAAA,CAAAG,CAAA;cAEjCC,OAAO,CAACC,KAAK,CAAC,+BAA+B,EAAAP,EAAO,CAAC;YAAA;cAAA,OAAAE,QAAA,CAAAM,CAAA;UAAA;QAAA,GAAAV,OAAA;MAAA;IAEzD,CAAC;IACKX,cAAc,WAAdA,cAAcA,CAACsB,SAAS,EAAE;MAAA,IAAAC,MAAA;MAAA,OAAAf,iBAAA,cAAAC,YAAA,GAAAC,CAAA,UAAAc,SAAA;QAAA,IAAAC,GAAA;QAAA,OAAAhB,YAAA,GAAAK,CAAA,WAAAY,SAAA;UAAA,kBAAAA,SAAA,CAAAV,CAAA,GAAAU,SAAA,CAAAT,CAAA;YAAA;cAAAS,SAAA,CAAAV,CAAA;cAAAU,SAAA,CAAAT,CAAA;cAAA,OAEtBjB,eAAc,CAACsB,SAAS,CAAC;YAAA;cAC/BK,KAAK,CAAC,gCAAgC,CAAC;cAAAD,SAAA,CAAAT,CAAA;cAAA;YAAA;cAAAS,SAAA,CAAAV,CAAA;cAAAS,GAAA,GAAAC,SAAA,CAAAR,CAAA;cAEvCC,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAAK,GAAO,CAAC;cAClDF,MAAI,CAACK,MAAM,CAACR,KAAK,CAAC,6BAA6B,CAAC;YAAA;cAAA,OAAAM,SAAA,CAAAL,CAAA;UAAA;QAAA,GAAAG,QAAA;MAAA;IAEpD;EACF,CAAC;EACDK,OAAO,WAAPA,OAAOA,CAAA,EAAG;IACR,IAAI,CAACvB,iBAAiB,CAAC,CAAC;EAC1B;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}