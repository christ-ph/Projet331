{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport axios from 'axios';\nvar API_BASE_URL = 'http://localhost:5000/api';\nvar api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// === Intercepteurs ===\n\n// Token d'authentification\napi.interceptors.request.use(function (config) {\n  var user = JSON.parse(localStorage.getItem('user'));\n  if (user && user.token) {\n    config.headers.Authorization = \"Bearer \".concat(user.token);\n  }\n  return config;\n});\n\n// Gestion des erreurs globales\napi.interceptors.response.use(function (response) {\n  return response;\n}, function (error) {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    localStorage.removeItem('user');\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});\n\n// === AUTHENTIFICATION ===\nexport var login = function login(data) {\n  return api.post('/login', data);\n};\nexport var register = function register(data) {\n  return api.post('/register', data);\n};\n\n// === USERS ===\nexport var setUserProfile = function setUserProfile(userId, data) {\n  return api.post(\"/users/\".concat(userId, \"/profile\"), data);\n};\nexport var getUsers = function getUsers() {\n  return api.get('/users');\n};\nexport var updateUser = function updateUser(id, data) {\n  return api.put(\"/users/\".concat(id), data);\n};\nexport var deleteUser = function deleteUser(id) {\n  return api[\"delete\"](\"/users/\".concat(id));\n};\n\n// === FREELANCES ===\nexport var getProfiles = function getProfiles() {\n  return api.get('/profiles');\n};\nexport var createProfile = function createProfile(data) {\n  return api.post('/profiles', data);\n};\nexport var getProfile = function getProfile(userId) {\n  return api.get(\"/profiles/\".concat(userId));\n};\nexport var updateProfile = function updateProfile(userId, data) {\n  return api.put(\"/profiles/\".concat(userId), data);\n};\nexport var deleteProfile = function deleteProfile(userId) {\n  return api[\"delete\"](\"/profiles/\".concat(userId));\n};\n\n// === PORTFOLIO ===\n\n// ✅ Récupérer tous les projets d’un freelance\nexport var getPortfolioItems = function getPortfolioItems(profileId) {\n  return api.get(\"/profiles/\".concat(profileId, \"/portfolio\"));\n};\n\n// ✅ Ajouter un projet\nexport var addPortfolioItem = function addPortfolioItem(profileId, data) {\n  return api.post(\"/profiles/\".concat(profileId, \"/portfolio\"), data);\n};\n\n// ✅ Récupérer un projet spécifique\nexport var getPortfolioItem = function getPortfolioItem(profileId, itemId) {\n  return api.get(\"/profiles/\".concat(profileId, \"/portfolio/\").concat(itemId));\n};\n\n// ✅ Mettre à jour un projet\nexport var updatePortfolioItem = function updatePortfolioItem(profileId, itemId, data) {\n  return api.put(\"/profiles/\".concat(profileId, \"/portfolio/\").concat(itemId), data);\n};\n\n// ✅ Supprimer un projet\nexport var deletePortfolioItem = function deletePortfolioItem(profileId, itemId) {\n  return api[\"delete\"](\"/profiles/\".concat(profileId, \"/portfolio/\").concat(itemId));\n};\n\n// === MISSIONS ===\nexport var getMissions = function getMissions() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return api.get('/missions', {\n    params: params\n  });\n};\nexport var getMission = function getMission(id) {\n  return api.get(\"/missions/\".concat(id));\n};\nexport var createMission = function createMission(data) {\n  return api.post('/missions', data);\n};\nexport var applyToMission = function applyToMission(missionId, data) {\n  return api.post(\"/missions/\".concat(missionId, \"/apply\"), data);\n};\nexport var getMyApplications = function getMyApplications() {\n  return api.get('/applications/my');\n};\n\n// === MESSAGES ===\nexport var getConversations = function getConversations() {\n  return api.get('/messages/conversations');\n};\nexport var getMessages = function getMessages(userId) {\n  return api.get(\"/messages/\".concat(userId));\n};\nexport var sendMessage = function sendMessage(data) {\n  return api.post('/messages', data);\n};\nexport default api;\n\n// import axios from 'axios';\n\n// const API_BASE_URL = 'http://localhost:5000/api';\n\n// const api = axios.create({\n//   baseURL: API_BASE_URL,\n//   headers: {\n//     'Content-Type': 'application/json',\n//   },\n// });\n\n// // Intercepteur pour ajouter le token d'authentification\n// api.interceptors.request.use((config) => {\n//   const user = JSON.parse(localStorage.getItem('user'));\n//   if (user && user.token) {\n//     config.headers.Authorization = `Bearer ${user.token}`;\n//   }\n//   return config;\n// });\n\n// // Intercepteur pour gérer les erreurs\n// api.interceptors.response.use(\n//   (response) => response,\n//   (error) => {\n//     if (error.response?.status === 401) {\n//       localStorage.removeItem('user');\n//       window.location.href = '/login';\n//     }\n//     return Promise.reject(error);\n//   }\n// );\n\n// // Auth\n// export const login = (data) => api.post('/login', data);\n// export const register = (data) => api.post('/register', data);\n\n// // Users\n// export const setUserProfile = (userId, data) => api.post(`/users/${userId}/profile`, data);\n// export const getUsers = () => api.get('/users');\n// export const updateUser = (id, data) => api.put(`/users/${id}`, data);\n// export const deleteUser = (id) => api.delete(`/users/${id}`);\n\n// // Freelance Profiles\n// export const getProfiles = () => api.get('/profiles');\n// //export const createProfile = (data) => api.post('/profiles', data);\n// export const updateProfile = (id, data) => api.put(`/profiles/${id}`, data);\n// export const deleteProfile = (id) => api.delete(`/profiles/${id}`);\n// export const addPortfolioItem = (profileId, data) => api.post(`/profiles/${profileId}/portfolio`, data);\n// export const removePortfolioItem = (itemId) => api.delete(`/portfolio/${itemId}`);\n\n// // Missions - NOUVEAU pour Module 1\n// export const getMissions = (params = {}) => api.get('/missions', { params });\n// export const getMission = (id) => api.get(`/missions/${id}`);\n// export const createMission = (data) => api.post('/missions', data);\n// export const applyToMission = (missionId, data) => api.post(`/missions/${missionId}/apply`, data);\n// export const getMyApplications = () => api.get('/applications/my');\n\n// // Messages - NOUVEAU pour Module 1\n// export const getConversations = () => api.get('/messages/conversations');\n// export const getMessages = (userId) => api.get(`/messages/${userId}`);\n// export const sendMessage = (data) => api.post('/messages', data);\n\n// export default api;","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","headers","interceptors","request","use","config","user","JSON","parse","localStorage","getItem","token","Authorization","concat","response","error","_error$response","status","removeItem","window","location","href","Promise","reject","login","data","post","register","setUserProfile","userId","getUsers","get","updateUser","id","put","deleteUser","getProfiles","createProfile","getProfile","updateProfile","deleteProfile","getPortfolioItems","profileId","addPortfolioItem","getPortfolioItem","itemId","updatePortfolioItem","deletePortfolioItem","getMissions","params","arguments","length","undefined","getMission","createMission","applyToMission","missionId","getMyApplications","getConversations","getMessages","sendMessage"],"sources":["/home/christ/Téléchargements/projet 1.2/src/services/api.js"],"sourcesContent":["\nimport axios from 'axios';\n\nconst API_BASE_URL = 'http://localhost:5000/api';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// === Intercepteurs ===\n\n// Token d'authentification\napi.interceptors.request.use((config) => {\n  const user = JSON.parse(localStorage.getItem('user'));\n  if (user && user.token) {\n    config.headers.Authorization = `Bearer ${user.token}`;\n  }\n  return config;\n});\n\n// Gestion des erreurs globales\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      localStorage.removeItem('user');\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\n// === AUTHENTIFICATION ===\nexport const login = (data) => api.post('/login', data);\nexport const register = (data) => api.post('/register', data);\n\n// === USERS ===\nexport const setUserProfile = (userId, data) => api.post(`/users/${userId}/profile`, data);\nexport const getUsers = () => api.get('/users');\nexport const updateUser = (id, data) => api.put(`/users/${id}`, data);\nexport const deleteUser = (id) => api.delete(`/users/${id}`);\n\n// === FREELANCES ===\nexport const getProfiles = () => api.get('/profiles');\nexport const createProfile = (data) => api.post('/profiles', data);\nexport const getProfile = (userId) => api.get(`/profiles/${userId}`);\nexport const updateProfile = (userId, data) => api.put(`/profiles/${userId}`, data);\nexport const deleteProfile = (userId) => api.delete(`/profiles/${userId}`);\n\n// === PORTFOLIO ===\n\n// ✅ Récupérer tous les projets d’un freelance\nexport const getPortfolioItems = (profileId) =>\n  api.get(`/profiles/${profileId}/portfolio`);\n\n// ✅ Ajouter un projet\nexport const addPortfolioItem = (profileId, data) =>\n  api.post(`/profiles/${profileId}/portfolio`, data);\n\n// ✅ Récupérer un projet spécifique\nexport const getPortfolioItem = (profileId, itemId) =>\n  api.get(`/profiles/${profileId}/portfolio/${itemId}`);\n\n// ✅ Mettre à jour un projet\nexport const updatePortfolioItem = (profileId, itemId, data) =>\n  api.put(`/profiles/${profileId}/portfolio/${itemId}`, data);\n\n// ✅ Supprimer un projet\nexport const deletePortfolioItem = (profileId, itemId) =>\n  api.delete(`/profiles/${profileId}/portfolio/${itemId}`);\n\n// === MISSIONS ===\nexport const getMissions = (params = {}) => api.get('/missions', { params });\nexport const getMission = (id) => api.get(`/missions/${id}`);\nexport const createMission = (data) => api.post('/missions', data);\nexport const applyToMission = (missionId, data) =>\n  api.post(`/missions/${missionId}/apply`, data);\nexport const getMyApplications = () => api.get('/applications/my');\n\n// === MESSAGES ===\nexport const getConversations = () => api.get('/messages/conversations');\nexport const getMessages = (userId) => api.get(`/messages/${userId}`);\nexport const sendMessage = (data) => api.post('/messages', data);\n\nexport default api;\n\n\n// import axios from 'axios';\n\n// const API_BASE_URL = 'http://localhost:5000/api';\n\n// const api = axios.create({\n//   baseURL: API_BASE_URL,\n//   headers: {\n//     'Content-Type': 'application/json',\n//   },\n// });\n\n// // Intercepteur pour ajouter le token d'authentification\n// api.interceptors.request.use((config) => {\n//   const user = JSON.parse(localStorage.getItem('user'));\n//   if (user && user.token) {\n//     config.headers.Authorization = `Bearer ${user.token}`;\n//   }\n//   return config;\n// });\n\n// // Intercepteur pour gérer les erreurs\n// api.interceptors.response.use(\n//   (response) => response,\n//   (error) => {\n//     if (error.response?.status === 401) {\n//       localStorage.removeItem('user');\n//       window.location.href = '/login';\n//     }\n//     return Promise.reject(error);\n//   }\n// );\n\n// // Auth\n// export const login = (data) => api.post('/login', data);\n// export const register = (data) => api.post('/register', data);\n\n// // Users\n// export const setUserProfile = (userId, data) => api.post(`/users/${userId}/profile`, data);\n// export const getUsers = () => api.get('/users');\n// export const updateUser = (id, data) => api.put(`/users/${id}`, data);\n// export const deleteUser = (id) => api.delete(`/users/${id}`);\n\n// // Freelance Profiles\n// export const getProfiles = () => api.get('/profiles');\n// //export const createProfile = (data) => api.post('/profiles', data);\n// export const updateProfile = (id, data) => api.put(`/profiles/${id}`, data);\n// export const deleteProfile = (id) => api.delete(`/profiles/${id}`);\n// export const addPortfolioItem = (profileId, data) => api.post(`/profiles/${profileId}/portfolio`, data);\n// export const removePortfolioItem = (itemId) => api.delete(`/portfolio/${itemId}`);\n\n// // Missions - NOUVEAU pour Module 1\n// export const getMissions = (params = {}) => api.get('/missions', { params });\n// export const getMission = (id) => api.get(`/missions/${id}`);\n// export const createMission = (data) => api.post('/missions', data);\n// export const applyToMission = (missionId, data) => api.post(`/missions/${missionId}/apply`, data);\n// export const getMyApplications = () => api.get('/applications/my');\n\n// // Messages - NOUVEAU pour Module 1\n// export const getConversations = () => api.get('/messages/conversations');\n// export const getMessages = (userId) => api.get(`/messages/${userId}`);\n// export const sendMessage = (data) => api.post('/messages', data);\n\n// export default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}