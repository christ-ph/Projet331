{"ast":null,"code":"import \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport axios from 'axios';\nvar API_BASE_URL = 'http://localhost:5000/api';\nvar api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Intercepteur pour ajouter le token d'authentification\napi.interceptors.request.use(function (config) {\n  var user = JSON.parse(localStorage.getItem('user'));\n  if (user && user.token) {\n    config.headers.Authorization = \"Bearer \".concat(user.token);\n  }\n  return config;\n});\n\n// Intercepteur pour gérer les erreurs\napi.interceptors.response.use(function (response) {\n  return response;\n}, function (error) {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    localStorage.removeItem('user');\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});\n\n// Auth\nexport var login = function login(data) {\n  return api.post('/login', data);\n};\nexport var register = function register(data) {\n  return api.post('/register', data);\n};\n\n// Users\nexport var setUserProfile = function setUserProfile(userId, data) {\n  return api.post(\"/users/\".concat(userId, \"/profile\"), data);\n};\nexport var getUsers = function getUsers() {\n  return api.get('/users');\n};\nexport var updateUser = function updateUser(id, data) {\n  return api.put(\"/users/\".concat(id), data);\n};\nexport var deleteUser = function deleteUser(id) {\n  return api[\"delete\"](\"/users/\".concat(id));\n};\n\n// Freelance Profiles\nexport var getProfiles = function getProfiles() {\n  return api.get('/profiles');\n};\nexport var createProfile = function createProfile(data) {\n  return api.post('/profiles', data);\n};\nexport var updateProfile = function updateProfile(id, data) {\n  return api.put(\"/profiles/\".concat(id), data);\n};\nexport var deleteProfile = function deleteProfile(id) {\n  return api[\"delete\"](\"/profiles/\".concat(id));\n};\nexport var addPortfolioItem = function addPortfolioItem(profileId, data) {\n  return api.post(\"/profiles/\".concat(profileId, \"/portfolio\"), data);\n};\nexport var removePortfolioItem = function removePortfolioItem(itemId) {\n  return api[\"delete\"](\"/portfolio/\".concat(itemId));\n};\n\n// Missions - NOUVEAU pour Module 1\nexport var getMissions = function getMissions() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return api.get('/missions', {\n    params: params\n  });\n};\nexport var getMission = function getMission(id) {\n  return api.get(\"/missions/\".concat(id));\n};\nexport var createMission = function createMission(data) {\n  return api.post('/missions', data);\n};\nexport var applyToMission = function applyToMission(missionId, data) {\n  return api.post(\"/missions/\".concat(missionId, \"/apply\"), data);\n};\nexport var getMyApplications = function getMyApplications() {\n  return api.get('/applications/my');\n};\n\n// Messages - NOUVEAU pour Module 1\nexport var getConversations = function getConversations() {\n  return api.get('/messages/conversations');\n};\nexport var getMessages = function getMessages(userId) {\n  return api.get(\"/messages/\".concat(userId));\n};\nexport var sendMessage = function sendMessage(data) {\n  return api.post('/messages', data);\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","headers","interceptors","request","use","config","user","JSON","parse","localStorage","getItem","token","Authorization","concat","response","error","_error$response","status","removeItem","window","location","href","Promise","reject","login","data","post","register","setUserProfile","userId","getUsers","get","updateUser","id","put","deleteUser","getProfiles","createProfile","updateProfile","deleteProfile","addPortfolioItem","profileId","removePortfolioItem","itemId","getMissions","params","arguments","length","undefined","getMission","createMission","applyToMission","missionId","getMyApplications","getConversations","getMessages","sendMessage"],"sources":["/home/christ/Téléchargements/Projet 1.1/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = 'http://localhost:5000/api';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Intercepteur pour ajouter le token d'authentification\napi.interceptors.request.use((config) => {\n  const user = JSON.parse(localStorage.getItem('user'));\n  if (user && user.token) {\n    config.headers.Authorization = `Bearer ${user.token}`;\n  }\n  return config;\n});\n\n// Intercepteur pour gérer les erreurs\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      localStorage.removeItem('user');\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\n// Auth\nexport const login = (data) => api.post('/login', data);\nexport const register = (data) => api.post('/register', data);\n\n// Users\nexport const setUserProfile = (userId, data) => api.post(`/users/${userId}/profile`, data);\nexport const getUsers = () => api.get('/users');\nexport const updateUser = (id, data) => api.put(`/users/${id}`, data);\nexport const deleteUser = (id) => api.delete(`/users/${id}`);\n\n// Freelance Profiles\nexport const getProfiles = () => api.get('/profiles');\nexport const createProfile = (data) => api.post('/profiles', data);\nexport const updateProfile = (id, data) => api.put(`/profiles/${id}`, data);\nexport const deleteProfile = (id) => api.delete(`/profiles/${id}`);\nexport const addPortfolioItem = (profileId, data) => api.post(`/profiles/${profileId}/portfolio`, data);\nexport const removePortfolioItem = (itemId) => api.delete(`/portfolio/${itemId}`);\n\n// Missions - NOUVEAU pour Module 1\nexport const getMissions = (params = {}) => api.get('/missions', { params });\nexport const getMission = (id) => api.get(`/missions/${id}`);\nexport const createMission = (data) => api.post('/missions', data);\nexport const applyToMission = (missionId, data) => api.post(`/missions/${missionId}/apply`, data);\nexport const getMyApplications = () => api.get('/applications/my');\n\n// Messages - NOUVEAU pour Module 1\nexport const getConversations = () => api.get('/messages/conversations');\nexport const getMessages = (userId) => api.get(`/messages/${userId}`);\nexport const sendMessage = (data) => api.post('/messages', data);\n\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}