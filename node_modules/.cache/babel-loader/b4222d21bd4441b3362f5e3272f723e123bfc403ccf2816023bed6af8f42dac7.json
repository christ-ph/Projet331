{"ast":null,"code":"import _regenerator from \"/home/christ/T\\xE9l\\xE9chargements/projet 1.2.1/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _objectSpread from \"/home/christ/T\\xE9l\\xE9chargements/projet 1.2.1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"/home/christ/T\\xE9l\\xE9chargements/projet 1.2.1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport axios from 'axios';\nexport default {\n  name: 'CreateMissionClient',\n  props: ['currentUser'],\n  data: function data() {\n    return {\n      mission: {\n        title: '',\n        description: '',\n        budget: null,\n        budget_type: 'FIXED',\n        deadline: '',\n        required_skills: []\n      },\n      newSkill: '',\n      loading: false\n    };\n  },\n  computed: {\n    completionPercentage: function completionPercentage() {\n      var completed = 0;\n      var totalFields = 4;\n      if (this.mission.title) completed++;\n      if (this.mission.description) completed++;\n      if (this.mission.budget && this.mission.deadline) completed++;\n      if (this.mission.required_skills.length > 0) completed++;\n      return Math.round(completed / totalFields * 100);\n    },\n    isFormValid: function isFormValid() {\n      return this.mission.title && this.mission.description && this.mission.budget && this.mission.deadline && this.mission.required_skills.length > 0;\n    }\n  },\n  methods: {\n    addSkill: function addSkill() {\n      var skill = this.newSkill.trim();\n      if (skill && !this.mission.required_skills.includes(skill)) {\n        this.mission.required_skills.push(skill);\n        this.newSkill = '';\n      }\n    },\n    removeSkill: function removeSkill(index) {\n      this.mission.required_skills.splice(index, 1);\n    },\n    resetForm: function resetForm() {\n      if (confirm('Voulez-vous vraiment r√©initialiser ce formulaire ?')) {\n        this.mission = {\n          title: '',\n          description: '',\n          budget: null,\n          budget_type: 'FIXED',\n          deadline: '',\n          required_skills: []\n        };\n      }\n    },\n    submitMission: function submitMission() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n        var _this$currentUser, response, _t;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.p = _context.n) {\n            case 0:\n              if (_this.isFormValid) {\n                _context.n = 1;\n                break;\n              }\n              alert('Veuillez compl√©ter tous les champs obligatoires');\n              return _context.a(2);\n            case 1:\n              _this.loading = true;\n              _context.p = 2;\n              _context.n = 3;\n              return axios.post('http://localhost:8000/missions', _objectSpread(_objectSpread({}, _this.mission), {}, {\n                client_id: ((_this$currentUser = _this.currentUser) === null || _this$currentUser === void 0 ? void 0 : _this$currentUser.id) || null\n              }));\n            case 3:\n              response = _context.v;\n              alert('‚úÖ Mission publi√©e avec succ√®s !');\n              console.log('Mission cr√©√©e:', response.data);\n              _this.$router.push('/dashboard-client');\n              _context.n = 5;\n              break;\n            case 4:\n              _context.p = 4;\n              _t = _context.v;\n              console.error('Erreur cr√©ation mission:', _t);\n              alert('‚ùå Erreur lors de la publication de la mission.');\n            case 5:\n              _context.p = 5;\n              _this.loading = false;\n              return _context.f(5);\n            case 6:\n              return _context.a(2);\n          }\n        }, _callee, null, [[2, 4, 5, 6]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["axios","name","props","data","mission","title","description","budget","budget_type","deadline","required_skills","newSkill","loading","computed","completionPercentage","completed","totalFields","length","Math","round","isFormValid","methods","addSkill","skill","trim","includes","push","removeSkill","index","splice","resetForm","confirm","submitMission","_this","_asyncToGenerator","_regenerator","m","_callee","_this$currentUser","response","_t","w","_context","p","n","alert","a","post","_objectSpread","client_id","currentUser","id","v","console","log","$router","error","f"],"sources":["/home/christ/T√©l√©chargements/projet 1.2.1/src/views/MissionsViewClient.vue"],"sourcesContent":["<template>\n  <div class=\"mission-client\">\n    <div class=\"profile-header\">\n      <div class=\"header-content\">\n        <h1>üßæ Cr√©er une mission</h1>\n        <p>D√©crivez votre mission pour trouver le freelance parfait.</p>\n      </div>\n      <div class=\"completion-badge\" v-if=\"completionPercentage < 100\">\n        <div class=\"progress-circle\">\n          <span class=\"percentage\">{{ completionPercentage }}%</span>\n        </div>\n        <p>Formulaire compl√©t√© √† {{ completionPercentage }}%</p>\n      </div>\n    </div>\n\n    <div class=\"profile-container\">\n      <!-- Formulaire de cr√©ation de mission -->\n      <form @submit.prevent=\"submitMission\" class=\"profile-form\">\n        \n        <!-- Informations g√©n√©rales -->\n        <div class=\"form-section\">\n          <div class=\"section-header\">\n            <h2>üìã Informations de la mission</h2>\n            <span class=\"section-badge\" v-if=\"mission.title && mission.description\">‚úÖ</span>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"title\">Titre de la mission *</label>\n            <input \n              v-model=\"mission.title\" \n              id=\"title\" \n              placeholder=\"Ex: D√©veloppement d'une API Flask\"\n              required\n            />\n          </div>\n          <div class=\"form-group\">\n            <label for=\"description\">Description *</label>\n            <textarea\n              v-model=\"mission.description\"\n              id=\"description\"\n              placeholder=\"D√©crivez les objectifs, les livrables et les attentes...\"\n              rows=\"5\"\n              required\n            ></textarea>\n            <small>{{ mission.description.length }}/500 caract√®res</small>\n          </div>\n        </div>\n\n        <!-- Budget et Deadline -->\n        <div class=\"form-section\">\n          <div class=\"section-header\">\n            <h2>üí∞ Budget et √©ch√©ance</h2>\n            <span class=\"section-badge\" v-if=\"mission.budget && mission.deadline\">‚úÖ</span>\n          </div>\n          <div class=\"form-grid\">\n            <div class=\"form-group\">\n              <label for=\"budget\">Budget (‚Ç¨) *</label>\n              <div class=\"input-with-icon\">\n                <span class=\"input-icon\">‚Ç¨</span>\n                <input\n                  v-model.number=\"mission.budget\"\n                  id=\"budget\"\n                  type=\"number\"\n                  min=\"0\"\n                  placeholder=\"2500\"\n                  required\n                />\n              </div>\n              <small>Indiquez le budget total ou horaire pr√©vu</small>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"budget_type\">Type de budget *</label>\n              <select v-model=\"mission.budget_type\" id=\"budget_type\" required>\n                <option value=\"FIXED\">üíº Fixe</option>\n                <option value=\"HOURLY\">‚è± Horaire</option>\n              </select>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"deadline\">Date limite *</label>\n              <input v-model=\"mission.deadline\" id=\"deadline\" type=\"date\" required />\n            </div>\n          </div>\n        </div>\n\n        <!-- Comp√©tences requises -->\n        <div class=\"form-section\">\n          <div class=\"section-header\">\n            <h2>üõ†Ô∏è Comp√©tences requises</h2>\n            <span class=\"section-badge\" v-if=\"mission.required_skills.length >= 1\">‚úÖ</span>\n          </div>\n          <div class=\"form-group\">\n            <label>Ajouter des comp√©tences *</label>\n            <div class=\"skills-input-container\">\n              <input \n                v-model=\"newSkill\" \n                @keydown.enter.prevent=\"addSkill\"\n                placeholder=\"Ex: Python, Flask, PostgreSQL...\" \n                class=\"skills-input\"\n              />\n              <button type=\"button\" @click=\"addSkill\" class=\"btn-add-skill\" :disabled=\"!newSkill.trim()\">+</button>\n            </div>\n            <small>Appuyez sur Entr√©e ou cliquez sur + pour ajouter</small>\n          </div>\n          <div v-if=\"mission.required_skills.length > 0\" class=\"skills-list\">\n            <div v-for=\"(skill, index) in mission.required_skills\" :key=\"index\" class=\"skill-tag\">\n              <span>{{ skill }}</span>\n              <button type=\"button\" @click=\"removeSkill(index)\" class=\"btn-remove-skill\">√ó</button>\n            </div>\n          </div>\n          <div v-else class=\"empty-state\">\n            <p>üö´ Aucune comp√©tence ajout√©e. Ajoutez-en au moins une.</p>\n          </div>\n        </div>\n\n        <!-- Actions -->\n        <div class=\"form-actions\">\n          <button type=\"button\" @click=\"resetForm\" class=\"btn btn-secondary\" :disabled=\"loading\">\n            Annuler\n          </button>\n          <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"loading || !isFormValid\">\n            <span v-if=\"loading\">\n              <div class=\"spinner\"></div>\n              Publication...\n            </span>\n            <span v-else>\n              üöÄ Publier la mission\n            </span>\n          </button>\n        </div>\n      </form>\n\n      <!-- Aper√ßu de la mission -->\n      <div class=\"profile-preview\">\n        <div class=\"preview-card\">\n          <h3>Aper√ßu de la mission</h3>\n          <div class=\"preview-content\">\n            <div class=\"preview-section\">\n              <h5>Titre</h5>\n              <p>{{ mission.title || 'Titre de la mission' }}</p>\n            </div>\n            <div class=\"preview-section\">\n              <h5>Description</h5>\n              <p class=\"preview-description\">\n                {{ mission.description || 'La description de votre mission appara√Ætra ici...' }}\n              </p>\n            </div>\n            <div class=\"preview-section\">\n              <h5>Budget</h5>\n              <p class=\"preview-rate\">{{ mission.budget || '---' }} ‚Ç¨ ({{ mission.budget_type }})</p>\n            </div>\n            <div class=\"preview-section\">\n              <h5>√âch√©ance</h5>\n              <p>{{ mission.deadline || 'Non d√©finie' }}</p>\n            </div>\n            <div class=\"preview-section\" v-if=\"mission.required_skills.length > 0\">\n              <h5>Comp√©tences requises</h5>\n              <div class=\"preview-skills\">\n                <span v-for=\"skill in mission.required_skills\" :key=\"skill\" class=\"preview-skill\">\n                  {{ skill }}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'CreateMissionClient',\n  props: ['currentUser'],\n  data() {\n    return {\n      mission: {\n        title: '',\n        description: '',\n        budget: null,\n        budget_type: 'FIXED',\n        deadline: '',\n        required_skills: []\n      },\n      newSkill: '',\n      loading: false\n    };\n  },\n  computed: {\n    completionPercentage() {\n      let completed = 0;\n      const totalFields = 4;\n      if (this.mission.title) completed++;\n      if (this.mission.description) completed++;\n      if (this.mission.budget && this.mission.deadline) completed++;\n      if (this.mission.required_skills.length > 0) completed++;\n      return Math.round((completed / totalFields) * 100);\n    },\n    isFormValid() {\n      return (\n        this.mission.title &&\n        this.mission.description &&\n        this.mission.budget &&\n        this.mission.deadline &&\n        this.mission.required_skills.length > 0\n      );\n    }\n  },\n  methods: {\n    addSkill() {\n      const skill = this.newSkill.trim();\n      if (skill && !this.mission.required_skills.includes(skill)) {\n        this.mission.required_skills.push(skill);\n        this.newSkill = '';\n      }\n    },\n    removeSkill(index) {\n      this.mission.required_skills.splice(index, 1);\n    },\n    resetForm() {\n      if (confirm('Voulez-vous vraiment r√©initialiser ce formulaire ?')) {\n        this.mission = {\n          title: '',\n          description: '',\n          budget: null,\n          budget_type: 'FIXED',\n          deadline: '',\n          required_skills: []\n        };\n      }\n    },\n    async submitMission() {\n      if (!this.isFormValid) {\n        alert('Veuillez compl√©ter tous les champs obligatoires');\n        return;\n      }\n      this.loading = true;\n      try {\n        const response = await axios.post('http://localhost:8000/missions', {\n          ...this.mission,\n          client_id: this.currentUser?.id || null\n        });\n        alert('‚úÖ Mission publi√©e avec succ√®s !');\n        console.log('Mission cr√©√©e:', response.data);\n        this.$router.push('/dashboard-client');\n      } catch (error) {\n        console.error('Erreur cr√©ation mission:', error);\n        alert('‚ùå Erreur lors de la publication de la mission.');\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n@import './FreelanceProfileView.css';\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}